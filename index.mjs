// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-accessor@v0.1.0-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-write-accessor@v0.1.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.1-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";import{isPrimitive as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.1.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.1.0-esm/index.mjs";import{isPrimitive as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-int32array@v0.1.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/blas-base-gcopy@v0.1.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.1.0-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-int32@v0.1.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int32-max@v0.1.1-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/array-to-json@v0.1.0-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@v0.1.1-esm/index.mjs";function g(e,t,n){var s,r;for(r=0;r<8;r++)if(s=e(),c(s))throw new Error("unexpected error. PRNG returned NaN.");for(r=n-1;r>=0;r--)t[r]=e();return t}var v=h-1;function b(){return 0|m(1+v*Math.random())}var E=h-1|0,j=h-1|0;function y(e,t){var n;return n=t?"option":"argument",e.length<40?new RangeError(u("invalid %s. State array has insufficient length.",n)):1!==e[0]?new RangeError(u("invalid %s. State array has an incompatible schema version. Expected: `%s`. Actual: `%s`.",n,1,e[0])):3!==e[1]?new RangeError(u("invalid %s. State array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",n,3,e[1])):32!==e[2]?new RangeError(u("invalid %s. State array has an incompatible table length. Expected: `%s`. Actual: `%s`.",n,32,e[2])):2!==e[35]?new RangeError(u("invalid %s. State array has an incompatible state length. Expected: `%u`. Actual: `%u`.",n,2,e[35])):e[38]!==e.length-39?new RangeError(u("invalid %s. State array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",n,e.length-39,e[38])):null}function w(c){var v,w,x,N,T,M;if(x={},arguments.length){if(!r(c))throw new TypeError(u("invalid argument. Options argument must be an object. Value: `%s`.",c));if(s(c,"copy")&&(x.copy=c.copy,!i(c.copy)))throw new TypeError(u("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",c.copy));if(s(c,"state")){if(w=c.state,x.state=!0,!d(w))throw new TypeError(u("invalid option. `%s` option must be an Int32Array. Option: `%s`.","state",w));if(M=y(w,!0))throw M;!1===x.copy?v=w:(v=new f(w.length),l(w.length,w,1,v,1)),w=new f(v.buffer,v.byteOffset+3*v.BYTES_PER_ELEMENT,32),N=new f(v.buffer,v.byteOffset+39*v.BYTES_PER_ELEMENT,w[38])}if(void 0===N)if(s(c,"seed"))if(N=c.seed,x.seed=!0,o(N)){if(N>j)throw new RangeError(u("invalid option. `%s` option must be a positive integer less than the maximum signed 32-bit integer. Option: `%u`.","seed",N));N|=0}else{if(!(a(N)&&N.length>0))throw new TypeError(u("invalid option. `%s` option must be either a positive integer less than the maximum signed 32-bit integer or an array-like object containing integer values less than the maximum signed 32-bit integer. Option: `%s`.","seed",N));T=N.length,(v=new f(39+T))[0]=1,v[1]=3,v[2]=32,v[35]=2,v[37]=N[0],v[38]=T,l.ndarray(T,N,1,0,v,1,39),w=new f(v.buffer,v.byteOffset+3*v.BYTES_PER_ELEMENT,32),N=new f(v.buffer,v.byteOffset+39*v.BYTES_PER_ELEMENT,T),w=g(B,w,32),v[36]=w[0]}else N=0|b()}else N=0|b();return void 0===w&&((v=new f(40))[0]=1,v[1]=3,v[2]=32,v[35]=2,v[37]=N,v[38]=1,v[39]=N,w=new f(v.buffer,v.byteOffset+3*v.BYTES_PER_ELEMENT,32),N=new f(v.buffer,v.byteOffset+39*v.BYTES_PER_ELEMENT,1),w=g(B,w,32),v[36]=w[0]),e(Y,"NAME","minstd-shuffle"),t(Y,"seed",R),t(Y,"seedLength",S),n(Y,"state",O,A),t(Y,"stateLength",_),t(Y,"byteLength",L),e(Y,"toJSON",P),e(Y,"MIN",1),e(Y,"MAX",h-1),e(Y,"normalized",I),e(I,"NAME",Y.NAME),t(I,"seed",R),t(I,"seedLength",S),n(I,"state",O,A),t(I,"stateLength",_),t(I,"byteLength",L),e(I,"toJSON",P),e(I,"MIN",(Y.MIN-1)/E),e(I,"MAX",(Y.MAX-1)/E),Y;function R(){var e=v[38];return l(e,N,1,new f(e),1)}function S(){return v[38]}function _(){return v.length}function L(){return v.byteLength}function O(){var e=v.length;return l(e,v,1,new f(e),1)}function A(e){var t;if(!d(e))throw new TypeError(u("invalid argument. Must provide an Int32Array. Value: `%s`.",e));if(t=y(e,!1))throw t;!1===x.copy?x.state&&e.length===v.length?l(e.length,e,1,v,1):(v=e,x.state=!0):(e.length!==v.length&&(v=new f(e.length)),l(e.length,e,1,v,1)),w=new f(v.buffer,v.byteOffset+3*v.BYTES_PER_ELEMENT,32),N=new f(v.buffer,v.byteOffset+39*v.BYTES_PER_ELEMENT,v[38])}function P(){var e={type:"PRNG"};return e.name=Y.NAME,e.state=p(v),e.params=[],e}function B(){var e=0|v[37];return e=16807*e%h|0,v[37]=e,0|e}function Y(){var e,t;return e=v[36],t=m(e/h*32),e=w[t],v[36]=e,w[t]=B(),e}function I(){return(Y()-1)/E}}var x=w({seed:b()});e(x,"factory",w);export{x as default,w as factory};
//# sourceMappingURL=index.mjs.map
